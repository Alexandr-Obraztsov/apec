# Документация проекта APEC

## Описание

Проект APEC предназначен для анализа и моделирования электрических цепей с использованием PySpice, SymPy и численных методов решения ОДУ. Программа строит граф цепи, формирует уравнения по законам Кирхгофа, решает их и визуализирует результаты.

---

## Структура проекта

- `src/circuit_simulation.py` — основной скрипт анализа цепи, точка входа.
- `src/utilits/circuit_tools.py` — функции для работы с элементами, узлами, ветвями, подстановкой значений.
- `src/utilits/equation_generator.py` — генерация уравнений Кирхгофа, обработка формул, фильтрация путей.
- `src/utilits/plotting.py` — визуализация решений ОДУ, подстановка переменных.
- `src/utilits/transmission_line.py` — определение пользовательской линии передачи (SubCircuit).
- `examples/test.py` — пример численного решения системы ОДУ.
- `requirements.txt` — зависимости.

---

## Основные компоненты

### 1. Основной скрипт (`src/circuit_simulation.py`)

- Формирует электрическую схему с помощью PySpice.
- Определяет индуктивности и конденсаторы, строит граф соединений.
- Вычисляет ветви схемы, формирует уравнения по законам Кирхгофа.
- Запрашивает у пользователя начальные условия.
- Решает систему ОДУ и строит графики изменения токов и напряжений.

### 2. Генерация уравнений (`src/utilits/equation_generator.py`)

- Генерирует уравнения для токов и напряжений на основе структуры схемы.
- Использует символьные вычисления для получения аналитических выражений.
- Фильтрует пути и элементы для корректного построения системы уравнений.

### 3. Вспомогательные функции (`src/utilits/circuit_tools.py`)

- Определяет соединения между узлами, ветви, элементы.
- Подставляет численные значения в формулы.
- Находит все пути между узлами, определяет точки соединения.

### 4. Визуализация (`src/utilits/plotting.py`)

- Строит графики решений ОДУ по полученным уравнениям.
- Поддерживает подстановку переменных в выражения.

### 5. Линия передачи (`src/utilits/transmission_line.py`)

- Класс SubCircuit для моделирования линии передачи как отдельного элемента схемы.

---

## Пример использования

1. Определите схему в `src/circuit_simulation.py` (блок `if __name__ == "__main__":`).
2. Запустите скрипт: `python src/circuit_simulation.py`
3. Следуйте инструкциям для ввода начальных условий.
4. Получите графики изменения токов и напряжений во времени.

---

## Требования

- Python 3.10+
- PySpice 1.5
- numpy, scipy, matplotlib, networkx, sympy

---

## Авторы

Укажите своё имя и контакты при необходимости.
